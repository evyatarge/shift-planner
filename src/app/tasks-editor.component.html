<div class="flex">
  <mat-form-field appearance="outline">
    <mat-label>שם המשימה</mat-label>
    <input matInput [(ngModel)]="form.name">
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>התחלה (ISO: YYYY-MM-DDTHH:mm)</mat-label>
    <input matInput [(ngModel)]="form.start" placeholder="2025-08-24T08:00">
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>סיום (ISO: YYYY-MM-DDTHH:mm)</mat-label>
    <input matInput [(ngModel)]="form.end" placeholder="2025-08-24T16:00">
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>עובדים דרושים</mat-label>
    <input type="number" matInput [(ngModel)]="form.requiredEmployees" min="1">
  </mat-form-field>
</div>

<div class="flex">
  <mat-form-field appearance="outline">
    <mat-label>כישור נדרש</mat-label>
    <input matInput [(ngModel)]="newSkill" (keyup.enter)="addSkill()">
  </mat-form-field>
  <button mat-stroked-button (click)="addSkill()">הוסף כישור</button>
</div>

<div>כישורים נדרשים: <span class="mono">{{ form.requiredSkills.join(', ') || '—' }}</span></div>

<div class="flex" style="margin-top:8px">
  <button mat-raised-button color="primary" (click)="addTask()">הוסף משימה</button>
</div>

<div class="card" *ngFor="let t of tasks">
  <div class="flex" style="align-items:center; justify-content:space-between">
    <div>
      <strong>{{ t.name }}</strong>
      <div class="mono">{{ t.start }} → {{ t.end }}</div>
      <div>כישורים: <span class="mono">{{ t.requiredSkills.join(', ') || '—' }}</span></div>
      <div>עובדים דרושים: {{ t.requiredEmployees }}</div>
    </div>
    <button mat-button color="warn" (click)="remove(t)">מחק</button>
  </div>
</div>
