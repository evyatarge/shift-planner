<div class="container">
  <h1>{{title}}</h1>

  <div class="card">
    <h3>עובדים</h3>
    <app-employees-editor [(employees)]="employees"></app-employees-editor>
    <div class="flex">
      <button mat-raised-button color="primary" (click)="saveEmployees()">שמור עובדים</button>
    </div>
  </div>

  <div class="card">
    <h3>תבניות משמרות ליומיום</h3>
    <app-shift-templates (tasksGenerated)="onTasksGenerated($event)"></app-shift-templates>
  </div>

  <div class="card">
    <h3>משימות</h3>
    <app-tasks-editor [(tasks)]="tasks"></app-tasks-editor>
    <div class="flex">
      <button mat-stroked-button (click)="saveTasks()">שמור משימות</button>
    </div>
  </div>

  <div class="card">
    <h3>הגדרות מנוחה</h3>
    <div class="flex">
      <mat-form-field appearance="outline">
        <mat-label>מינימום שעות מנוחה</mat-label>
        <input matInput type="number" min="0" [(ngModel)]="minRestHours">
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>מצב אילוץ</mat-label>
        <mat-select [(ngModel)]="restMode">
          <mat-option value="SOFT">Soft (העדפה)</mat-option>
          <mat-option value="HARD">Hard (אסור להפר)</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
  </div>

  <button mat-raised-button color="primary" (click)="solve()" [disabled]="solving">
    {{ solving ? 'מחשב...' : 'שבץ באופן אופטימלי' }}
  </button>

  <div class="card" *ngIf="result">
    <h3>תוצאה</h3>
    <app-results-view [result]="result"></app-results-view>
  </div>

  <div class="card" *ngIf="explanation">
    <app-explanation-panel [explanation]="explanation"></app-explanation-panel>
  </div>
</div>